<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ×—×™×¤×•×© ××•×¦×¨ ×¢×™×Ÿ ×—××“</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: rtl;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.5s ease;
        }

        .station {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: none;
            animation: slideIn 0.5s ease;
        }

        .station.active {
            display: block;
        }

        .station.locked {
            opacity: 0.6;
            pointer-events: none;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .station-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #3498db;
        }

        .station-number {
            background: #3498db;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-left: 15px;
        }

        .station-title {
            font-size: 1.8em;
            color: #2c3e50;
            font-weight: bold;
        }

        .riddle-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin: 20px 0;
            border-right: 5px solid #e74c3c;
            text-align: center;
        }

        .riddle-title {
            font-size: 1.5em;
            color: #e74c3c;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .riddle-text {
            font-size: 1.3em;
            line-height: 1.8;
            font-style: italic;
            color: #2c3e50;
            margin-bottom: 25px;
        }

        .location-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .location-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .station-content {
            display: none;
        }

        .station-content.revealed {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .challenge-section {
            background: #fff3cd;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-right: 5px solid #ffc107;
        }

        .challenge-title {
            font-size: 1.3em;
            color: #856404;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .game-section {
            background: #d1ecf1;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-right: 5px solid #17a2b8;
        }

        .game-title {
            font-size: 1.3em;
            color: #0c5460;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .quiz-question {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .quiz-options {
            margin-top: 10px;
        }

        .quiz-option {
            display: block;
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            padding: 10px 15px;
            margin: 5px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: #e9ecef;
            border-color: #3498db;
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .matching-game {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .matching-column {
            background: white;
            border-radius: 8px;
            padding: 15px;
        }

        .matching-item {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            margin: 5px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .matching-item:hover {
            background: #e9ecef;
            border-color: #3498db;
        }

        .matching-item.selected {
            background: #cce5ff;
            border-color: #007bff;
        }

        .matching-item.matched {
            background: #d4edda;
            border-color: #28a745;
            pointer-events: none;
        }

        .crossword-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 2px;
            margin: 15px 0;
            max-width: 400px;
        }

        .crossword-cell {
            width: 35px;
            height: 35px;
            border: 2px solid #dee2e6;
            text-align: center;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .crossword-cell.active {
            background: white;
        }

        .crossword-cell.filled {
            background: #d4edda;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #229954;
        }

        .collection-section {
            background: #e8f5e8;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-right: 5px solid #28a745;
        }

        .collection-title {
            font-size: 1.3em;
            color: #155724;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .photo-upload {
            border: 2px dashed #28a745;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .photo-upload:hover {
            background: #f8fff8;
            border-color: #20c997;
        }

        .completion-screen {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .completion-screen.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .trophy {
            font-size: 5em;
            color: #f39c12;
            margin-bottom: 20px;
        }

        .input-field {
            width: 100%;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-size: 1em;
            margin: 10px 0;
        }

        .input-field:focus {
            outline: none;
            border-color: #3498db;
        }

        .text-input {
            min-height: 80px;
            resize: vertical;
        }

        .completed-mark {
            color: #28a745;
            font-size: 1.5em;
            margin-right: 10px;
        }

        .mystery-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .mystery-number {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            font-weight: bold;
            margin: 0 auto 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .mystery-title {
            font-size: 2em;
            color: #2c3e50;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .matching-game {
                grid-template-columns: 1fr;
            }
            
            .crossword-cell {
                width: 30px;
                height: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ›ï¸ ××©×—×§ ×—×™×¤×•×© ××•×¦×¨ ×¢×™×Ÿ ×—××“ ğŸŒ¿</h1>
            <p>××©×—×§ × ×™×•×•×˜ ×“×™×’×™×˜×œ×™ ×œ×’×Ÿ ×”×œ××•××™ ×¢×™×Ÿ ×—××“</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">×”×ª×§×“××•×ª: 0/6 ×ª×—× ×•×ª ×”×•×©×œ××•</p>
        </div>

        <!-- Station 1: The Winepress -->
        <div class="station active" id="station1">
            <div class="mystery-header">
                <div class="mystery-number">1</div>
                <div class="mystery-title">×ª×—× ×” ×¨××©×•× ×”</div>
            </div>

            <div class="riddle-section">
                <div class="riddle-title">ğŸ” ××¦××• ××ª ×”××§×•×</div>
                <div class="riddle-text">
                    ×‘×œ×‘ ×”×’×Ÿ, ×‘×™×Ÿ ×—×•××•×ª ×©×©×¨×“×• ×××•×ª ×©× ×™×, ×—×¤×©×• ××ª ×”××§×•× ×©×‘×• ×¢× ×‘×™× ×”×¤×›×• ×œ× ×•×–×œ ×§×“×•×©. ×©× ×”××‘×Ÿ ×©×•××¨×ª ×¢×œ ×¡×•×“×•×ª ×”×—×§×œ××™× ×”×¦×œ×‘× ×™×™×.
                </div>
                <button class="location-btn" onclick="revealStation(1)">ğŸ¯ ×× ×™ ×‘××§×•×!</button>
            </div>

            <div class="station-content" id="content1">
                <div class="station-header">
                    <div class="station-number">1</div>
                    <div class="station-title">×”×’×ª ×‘×—×•×•×” ×”×¦×œ×‘× ×™×ª</div>
                </div>

                <div class="challenge-section">
                    <div class="challenge-title">ğŸ¤” ×—×™×“×” ×¢×œ ×”××§×•×</div>
                    <p>×›×™×¦×“ ×ª×¨××” ×”×’×ª ×œ×›×œ×›×œ×” ×”×¦×œ×‘× ×™×ª, ×•××” ××¤×©×¨×” ××‘×—×™× ×ª ×˜×›× ×•×œ×•×’×™×” ×—×§×œ××™×ª ×‘×”×©×•×•××” ×œ×ª×§×•×¤×•×ª ×§×•×“××•×ª?</p>
                    <textarea class="input-field text-input" id="answer1" placeholder="×›×ª×‘×• ××ª ×ª×©×•×‘×ª×›× ×›××Ÿ..."></textarea>
                </div>

                <div class="game-section">
                    <div class="game-title">ğŸ® ×—×™×“×•×Ÿ ×× ×œ×™×˜×™</div>
                    <div class="quiz-question">
                        <p><strong>×©××œ×” 1:</strong> ××” ×”×™×” ×”×™×ª×¨×•×Ÿ ×©×œ ×‘×•×¨ ×”××™×¡×•×£?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">×œ××—×¡×•×Ÿ ××™×</div>
                            <div class="quiz-option" data-correct="true">×œ××™×¡×•×£ ××™×¥ ×¢× ×‘×™× ××¢×•×‘×“</div>
                            <div class="quiz-option" data-correct="false">×œ×©×ª×™×™×ª ×‘×¢×œ×™ ×—×™×™×</div>
                        </div>
                    </div>
                    <div class="quiz-question">
                        <p><strong>×©××œ×” 2:</strong> ××™×–×” ××©×§×” ×™×•×¦×¨ ×‘×’×ª?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">×‘×™×¨×”</div>
                            <div class="quiz-option" data-correct="true">×™×™×Ÿ</div>
                            <div class="quiz-option" data-correct="false">×—×•××¥</div>
                        </div>
                    </div>
                    <div class="quiz-question">
                        <p><strong>×©××œ×” 3:</strong> ××™ ×”×™×• ×”××©×ª××©×™× ×”×¢×™×§×¨×™×™× ×‘×’×ª?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">×—×§×œ××™× ×¦×œ×‘× ×™×™×</div>
                            <div class="quiz-option" data-correct="false">×—×™×™×œ×™×</div>
                            <div class="quiz-option" data-correct="false">×¡×•×—×¨×™×</div>
                        </div>
                    </div>
                </div>

                <div class="collection-section">
                    <div class="collection-title">ğŸ“¸ ××™×¡×•×£ ×“×™×’×™×˜×œ×™</div>
                    <p>×¦×œ××• ×ª××•× ×” ×§×‘×•×¦×ª×™×ª "×“×•×¨×›×™×" ×‘×’×ª (××—×•×•×” ×™×¦×™×¨×ª×™×ª) ×•×ª××•× ×” ×©×œ ××œ×× ×˜ ×—×§×œ××™ × ×•×¡×£ ×‘×—×•×•×”.</p>
                    <div class="photo-upload" onclick="simulatePhotoUpload(1)">
                        <p>ğŸ“· ×œ×—×¦×• ×›××Ÿ ×œ×”×¢×œ××ª ×ª××•× ×•×ª</p>
                        <div id="upload1Status"></div>
                    </div>
                </div>

                <button class="btn" onclick="completeStation(1)" id="complete1" disabled>×”×©×œ× ×ª×—× ×”</button>
            </div>
        </div>

        <!-- Station 2: The Springs -->
        <div class="station locked" id="station2">
            <div class="mystery-header">
                <div class="mystery-number">2</div>
                <div class="mystery-title">×ª×—× ×” ×©× ×™×™×”</div>
            </div>

            <div class="riddle-section">
                <div class="riddle-title">ğŸ” ××¦××• ××ª ×”××§×•×</div>
                <div class="riddle-text">
                    ×‘××§×•× ×©×‘×• ×”××“××” ××–×™×œ×” ×“××¢×•×ª ×¦×œ×•×œ×•×ª, ×•×”××™× ××¤×™×—×™× ×—×™×™× ×‘×™×¨×•×§. ×©× ×”×˜×‘×¢ ××¨×˜×™×‘ ××ª ×”× ×©××”.
                </div>
                <button class="location-btn" onclick="revealStation(2)">ğŸ¯ ×× ×™ ×‘××§×•×!</button>
            </div>

            <div class="station-content" id="content2">
                <div class="station-header">
                    <div class="station-number">2</div>
                    <div class="station-title">×”××¢×™×™× ×•×ª</div>
                </div>

                <div class="challenge-section">
                    <div class="challenge-title">ğŸ¤” ×—×™×“×” ×¢×œ ×”××§×•×</div>
                    <p>×›×™×¦×“ ××©×¤×™×¢ ×”××¢×™×™×Ÿ ×¢×œ ×”×¡×‘×™×‘×”? ××¦××• ×©× ×™ ×¦××—×™× ×©×¦×•××—×™× ×‘×–×›×•×ª ×”××™× ×•×”×¡×‘×™×¨×• ××“×•×¢ ×”× ×ª×œ×•×™×™× ×‘××¢×™×™×Ÿ.</p>
                    <input class="input-field" id="plant1" placeholder="×¦××— ×¨××©×•×Ÿ">
                    <input class="input-field" id="plant2" placeholder="×¦××— ×©× ×™">
                    <textarea class="input-field text-input" id="explanation2" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×”× ×ª×œ×•×™×™× ×‘××¢×™×™×Ÿ..."></textarea>
                </div>

                <div class="game-section">
                    <div class="game-title">ğŸ® ××©×—×§ ×”×ª×××ª ××•× ×—×™×</div>
                    <div class="matching-game">
                        <div class="matching-column">
                            <h4>×¦××—×™×</h4>
                            <div class="matching-item" data-match="reed">×§× ×”</div>
                            <div class="matching-item" data-match="mint">× ×¢× ×¢</div>
                            <div class="matching-item" data-match="bulrush">×’×•××</div>
                        </div>
                        <div class="matching-column">
                            <h4>×ª×™××•×¨×™×</h4>
                            <div class="matching-item" data-match="reed">×¦××— ×’×‘×•×” ×œ×™×“ ××™×</div>
                            <div class="matching-item" data-match="mint">×¦××— ×¨×™×—× ×™ ×¢× ×¢×œ×™× ×™×¨×•×§×™×</div>
                            <div class="matching-item" data-match="bulrush">×¦××— ×‘×™×¦×•×ª ×¢× ×¤×¨×—×™× ×—×•××™×</div>
                        </div>
                    </div>
                </div>

                <div class="collection-section">
                    <div class="collection-title">ğŸ“¸ ××™×¡×•×£ ×“×™×’×™×˜×œ×™</div>
                    <p>×©×œ×—×• ××ª ×”×”×ª×××•×ª ×”× ×›×•× ×•×ª ×©×‘×™×¦×¢×ª× ×‘××©×—×§.</p>
                    <div id="matchingResults2"></div>
                </div>

                <button class="btn" onclick="completeStation(2)" id="complete2" disabled>×”×©×œ× ×ª×—× ×”</button>
            </div>
        </div>

        <!-- Station 3: The Ancient Bridge -->
        <div class="station locked" id="station3">
            <div class="mystery-header">
                <div class="mystery-number">3</div>
                <div class="mystery-title">×ª×—× ×” ×©×œ×™×©×™×ª</div>
            </div>

            <div class="riddle-section">
                <div class="riddle-title">ğŸ” ××¦××• ××ª ×”××§×•×</div>
                <div class="riddle-text">
                    ×‘×™×Ÿ ××‘× ×™× ×©×–×•×¨××•×ª ××¢×œ ××™×, ×—×¤×©×• ××ª ×”×’×©×¨ ×©×§×•×©×¨ ×¢×‘×¨ ×œ×”×•×•×”. ×©× ×”×”×™×¡×˜×•×¨×™×” ×—×•×¦×” ××ª ×”× ×—×œ.
                </div>
                <button class="location-btn" onclick="revealStation(3)">ğŸ¯ ×× ×™ ×‘××§×•×!</button>
            </div>

            <div class="station-content" id="content3">
                <div class="station-header">
                    <div class="station-number">3</div>
                    <div class="station-title">×”×’×©×¨ ×”×¢×ª×™×§</div>
                </div>

                <div class="challenge-section">
                    <div class="challenge-title">ğŸ¤” ×—×™×“×” ×¢×œ ×”××§×•×</div>
                    <p>×›×™×¦×“ ××©×¤×™×¢ ×”×’×©×¨ ×¢×œ ×”××¢×¨×›×ª ×”××§×•×œ×•×’×™×ª ×¡×‘×™×‘×•, ×•××” ×ª×¤×§×™×“×• ×‘×”×§×©×¨ ×”×”×™×¡×˜×•×¨×™ ×©×œ ×”××–×•×¨?</p>
                    <textarea class="input-field text-input" id="answer3" placeholder="×›×ª×‘×• × ×™×ª×•×— ××¢××™×§ ×©×œ ×”×©×¤×¢×ª ×”×’×©×¨..."></textarea>
                </div>

                <div class="collection-section">
                    <div class="collection-title">ğŸ“¸ ××™×¡×•×£ ×“×™×’×™×˜×œ×™</div>
                    <p>×›×ª×‘×• ×”×¡×‘×¨ ×§×¦×¨ ×¢×œ ×”×©×¤×¢×ª ×”×’×©×¨ (×œ×“×•×’××”: "×××¤×©×¨ ×–×¨×™××ª ××™× ×•×©×•××¨ ×¢×œ ×™×¦×™×‘×•×ª; ×©×™××© ×œ××¢×‘×¨ ×—×§×œ××™×").</p>
                    <textarea class="input-field text-input" id="bridgeExplanation" placeholder="×”×¡×‘×¨ ×§×¦×¨ ×¢×œ ×”×©×¤×¢×ª ×”×’×©×¨..."></textarea>
                </div>

                <button class="btn" onclick="completeStation(3)" id="complete3" disabled>×”×©×œ× ×ª×—× ×”</button>
            </div>
        </div>

        <!-- Station 4: Agricultural Terraces -->
        <div class="station locked" id="station4">
            <div class="mystery-header">
                <div class="mystery-number">4</div>
                <div class="mystery-title">×ª×—× ×” ×¨×‘×™×¢×™×ª</div>
            </div>

            <div class="riddle-section">
                <div class="riddle-title">ğŸ” ××¦××• ××ª ×”××§×•×</div>
                <div class="riddle-text">
                    ×¢×œ ××“×¨×•× ×•×ª ×—×¨×•×©×™× ×‘×™×“ ××“×, ××¦××• ××“×¨×’×•×ª ×©×œ ××“××” ×©×’×™×“×œ×• ×‘×”×Ÿ ×—×œ×•××•×ª ×™×¨×•×§×™×.
                </div>
                <button class="location-btn" onclick="revealStation(4)">ğŸ¯ ×× ×™ ×‘××§×•×!</button>
            </div>

            <div class="station-content" id="content4">
                <div class="station-header">
                    <div class="station-number">4</div>
                    <div class="station-title">×”×˜×¨×¡×•×ª ×”×—×§×œ××™×•×ª</div>
                </div>

                <div class="challenge-section">
                    <div class="challenge-title">ğŸ¤” ×—×™×“×” ×¢×œ ×”××§×•×</div>
                    <p>××”×™ ×”××©××¢×•×ª ×”×”× ×“×¡×™×ª ×•×”××§×•×œ×•×’×™×ª ×©×œ ×”×˜×¨×¡×•×ª, ×•×›×™×¦×“ ×”×Ÿ ×ª×¨××• ×œ×—×§×œ××•×ª ×‘×ª×§×•×¤×•×ª ×¢×ª×™×§×•×ª?</p>
                    <textarea class="input-field text-input" id="answer4" placeholder="×”×¡×‘×™×¨×• ××ª ×”××©××¢×•×ª ×”×”× ×“×¡×™×ª ×•×”××§×•×œ×•×’×™×ª..."></textarea>
                </div>

                <div class="game-section">
                    <div class="game-title">ğŸ® ×ª×¤×–×•×¨×ª ×“×™×’×™×˜×œ×™×ª</div>
                    <p>×¤×ª×¨×• ××ª ×”×ª×¤×–×•×¨×ª ×¢× ×”××™×œ×™×: ×˜×¨×¡×•×ª, ×¡×—×£, ×—×§×œ××•×ª</p>
                    <div class="crossword-grid" id="crosswordGrid">
                        <!-- Crossword will be generated by JavaScript -->
                    </div>
                    <div>
                        <p><strong>×¨××–×™×:</strong></p>
                        <p>1. ××“×¨×’×•×ª ××‘×Ÿ (7 ××•×ª×™×•×ª) - ××•×¤×§×™</p>
                        <p>2. ×©×—×™×§×ª ×§×¨×§×¢ (4 ××•×ª×™×•×ª) - ×× ×›×™</p>
                        <p>3. ×’×™×“×•×œ ×¦××—×™× (7 ××•×ª×™×•×ª) - ××•×¤×§×™</p>
                    </div>
                </div>

                <div class="collection-section">
                    <div class="collection-title">ğŸ“¸ ××™×¡×•×£ ×“×™×’×™×˜×œ×™</div>
                    <p>×©×œ×—×• ××ª ×”××™×œ×™× ×©×¤×ª×¨×ª× ×‘×ª×¤×–×•×¨×ª, ×™×—×“ ×¢× ×”×¡×‘×¨ ×§×¦×¨ ×¢×œ ××©××¢×•×ª ×”×˜×¨×¡×•×ª.</p>
                    <div id="crosswordResults"></div>
                    <textarea class="input-field text-input" id="terracesExplanation" placeholder="×”×¡×‘×¨ ×§×¦×¨ ×¢×œ ××©××¢×•×ª ×”×˜×¨×¡×•×ª..."></textarea>
                </div>

                <button class="btn" onclick="completeStation(4)" id="complete4" disabled>×”×©×œ× ×ª×—× ×”</button>
            </div>
        </div>

        <!-- Station 5: Picnic Areas -->
        <div class="station locked" id="station5">
            <div class="mystery-header">
                <div class="mystery-number">5</div>
                <div class="mystery-title">×ª×—× ×” ×—××™×©×™×ª</div>
            </div>

            <div class="riddle-section">
                <div class="riddle-title">ğŸ” ××¦××• ××ª ×”××§×•×</div>
                <div class="riddle-text">
                    ×‘×™×Ÿ ×”×¢×¦×™×, ××§×•× ×©×œ ×× ×•×—×”, ×©× ×©×•×œ×—× ×•×ª ×§×•×¨××™× ×œ×¡×¢×•×“×” ×‘×˜×‘×¢. ×”×™×›×Ÿ ×”××“× ×•×”×™×¨×•×§ × ×—×™× ×™×—×“?
                </div>
                <button class="location-btn" onclick="revealStation(5)">ğŸ¯ ×× ×™ ×‘××§×•×!</button>
            </div>

            <div class="station-content" id="content5">
                <div class="station-header">
                    <div class="station-number">5</div>
                    <div class="station-title">××–×•×¨×™ ×”×¤×™×§× ×™×§</div>
                </div>

                <div class="challenge-section">
                    <div class="challenge-title">ğŸ¤” ×—×™×“×” ×¢×œ ×”××§×•×</div>
                    <p>×›×™×¦×“ ×ª×•×›× ×Ÿ ××–×•×¨ ×”×¤×™×§× ×™×§ ×œ×©××™×¨×” ×¢×œ ×”×¡×‘×™×‘×”, ×•××” ×”×§×©×¨ ×‘×™×Ÿ ×¢×™×¦×•×‘×• ×œ××•×“×¢×•×ª ××§×•×œ×•×’×™×ª?</p>
                    <textarea class="input-field text-input" id="answer5" placeholder="×”×¡×‘×™×¨×• ××ª ×”×ª×›× ×•×Ÿ ×”××§×•×œ×•×’×™ ×©×œ ××–×•×¨ ×”×¤×™×§× ×™×§..."></textarea>
                </div>

                <div class="game-section">
                    <div class="game-title">ğŸ® ×¤××–×œ ×“×™×’×™×˜×œ×™</div>
                    <p>×”×¨×›×™×‘×• ××ª ×ª××•× ×ª ××–×•×¨ ×”×¤×™×§× ×™×§!</p>
                    <div id="puzzleGame">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; max-width: 300px; margin: 20px auto;">
                            <div class="puzzle-piece" data-position="0" style="background: #90EE90; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸŒ³</div>
                            <div class="puzzle-piece" data-position="1" style="background: #87CEEB; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">â˜€ï¸</div>
                            <div class="puzzle-piece" data-position="2" style="background: #90EE90; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸŒ²</div>
                            <div class="puzzle-piece" data-position="3" style="background: #228B22; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸª‘</div>
                            <div class="puzzle-piece" data-position="4" style="background: #8B4513; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸªµ</div>
                            <div class="puzzle-piece" data-position="5" style="background: #228B22; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸ—‘ï¸</div>
                            <div class="puzzle-piece" data-position="6" style="background: #32CD32; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸŒ¿</div>
                            <div class="puzzle-piece" data-position="7" style="background: #32CD32; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸŒ¸</div>
                            <div class="puzzle-piece" data-position="8" style="background: #90EE90; height: 80px; border: 2px solid #333; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸ¦‹</div>
                        </div>
                    </div>
                    <p id="puzzleStatus">×œ×—×¦×• ×¢×œ ×”×—×œ×§×™× ×›×“×™ ×œ×”×¨×›×™×‘ ××ª ×”×ª××•× ×”!</p>
                </div>

                <div class="collection-section">
                    <div class="collection-title">ğŸ“¸ ××™×¡×•×£ ×“×™×’×™×˜×œ×™</div>
                    <p>×©×œ×—×• ××ª ×ª××•× ×ª ×”×¤××–×œ ×”××•×¨×›×‘ ×©×œ ××–×•×¨ ×”×¤×™×§× ×™×§.</p>
                    <div class="photo-upload" onclick="simulatePhotoUpload(5)">
                        <p>ğŸ“· ×”×¢×œ×• ××ª ×ª××•× ×ª ×”×¤××–×œ ×”××•×©×œ×</p>
                        <div id="upload5Status"></div>
                    </div>
                </div>

                <button class="btn" onclick="completeStation(5)" id="complete5" disabled>×”×©×œ× ×ª×—× ×”</button>
            </div>
        </div>

        <!-- Station 6: Landscape Viewpoint -->
        <div class="station locked" id="station6">
            <div class="mystery-header">
                <div class="mystery-number">6</div>
                <div class="mystery-title">×ª×—× ×” ××—×¨×•× ×”</div>
            </div>

            <div class="riddle-section">
                <div class="riddle-title">ğŸ” ××¦××• ××ª ×”××§×•×</div>
                <div class="riddle-text">
                    ×¢×œ ×’×‘×¢×” ×©×¤×•×ª×—×ª ××ª ×”×¢×™× ×™×™×, ×—×¤×©×• ××§×•× ×©×‘×• ×”×©××™×™× ××—×‘×§×™× ××ª ×”××¨×¥ ×‘× ×•×£ ××¨×”×™×‘.
                </div>
                <button class="location-btn" onclick="revealStation(6)">ğŸ¯ ×× ×™ ×‘××§×•×!</button>
            </div>

            <div class="station-content" id="content6">
                <div class="station-header">
                    <div class="station-number">6</div>
                    <div class="station-title">×”×ª×¦×¤×™×ª ×¢×œ ×”× ×•×£</div>
                </div>

                <div class="challenge-section">
                    <div class="challenge-title">ğŸ¤” ×—×™×“×” ×¢×œ ×”××§×•×</div>
                    <p>× ×ª×—×• ××ª ×”× ×•×£ ×”× ×©×§×£ ××”×ª×¦×¤×™×ª: ×›×™×¦×“ ×ª×›×•× ×•×ª ×’×™××•×’×¨×¤×™×•×ª ×›××• ×”×¨×™× ×•× ×—×œ×™× ××©×¤×™×¢×•×ª ×¢×œ ×”××§×•×œ×•×’×™×” ×•×”×”×™×¡×˜×•×¨×™×” ×©×œ ×”××–×•×¨?</p>
                    <textarea class="input-field text-input" id="answer6" placeholder="× ×ª×—×• ××ª ×”×©×¤×¢×ª ×”×ª×›×•× ×•×ª ×”×’×™××•×’×¨×¤×™×•×ª..."></textarea>
                </div>

                <div class="game-section">
                    <div class="game-title">ğŸ® ×—×™×“×•×Ÿ ×× ×œ×™×˜×™ ×¡×•×¤×™</div>
                    <div class="quiz-question">
                        <p><strong>×©××œ×” 1:</strong> ×›×™×¦×“ ××©×¤×™×¢×™× ×”×”×¨×™× ×¢×œ ×”××§×œ×™×?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">××©×¤×™×¢×™× ×¢×œ ×“×¤×•×¡×™ ×’×©× ×•××¡×¤×§×™× ×”×’× ×” ×˜×‘×¢×™×ª</div>
                            <div class="quiz-option" data-correct="false">×¨×§ ××¡×¤×§×™× ×¦×œ</div>
                            <div class="quiz-option" data-correct="false">××™×Ÿ ×œ×”× ×”×©×¤×¢×” ×¢×œ ×”××§×œ×™×</div>
                        </div>
                    </div>
                    <div class="quiz-question">
                        <p><strong>×©××œ×” 2:</strong> ××” ×ª×¤×§×™×“ ×”× ×—×œ ×‘××¢×¨×›×ª ×”××§×•×œ×•×’×™×ª?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">×¨×§ ××§×•×¨ ×œ××™×</div>
                            <div class="quiz-option" data-correct="true">×ª×•××š ×‘×¦××—×™×™×” ×•×—×™×™ ×‘×¨ ×•××©××© ×›××§×•×¨ ××™× ×œ×—×§×œ××•×ª</div>
                            <div class="quiz-option" data-correct="false">××©××© ×¨×§ ×œ×ª×—×‘×•×¨×”</div>
                        </div>
                    </div>
                    <div class="quiz-question">
                        <p><strong>×©××œ×” 3:</strong> ××™×š ×©×™××© ×”× ×•×£ ×œ×—×§×œ××•×ª ×”×™×¡×˜×•×¨×™×ª?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">×”×”×¨×™× ×•×”× ×—×œ×™× ××¤×©×¨×• ×”×©×§×™×” ×•×™×¦×™×¨×ª ×˜×¨×¡×•×ª</div>
                            <div class="quiz-option" data-correct="false">×¨×§ ×œ××¨×¢×” ×‘×¢×œ×™ ×—×™×™×</div>
                            <div class="quiz-option" data-correct="false">×œ× ×©×™××© ×œ×—×§×œ××•×ª</div>
                        </div>
                    </div>
                </div>

                <div class="collection-section">
                    <div class="collection-title">ğŸ“¸ ××™×¡×•×£ ×“×™×’×™×˜×œ×™</div>
                    <p>×¦×œ××• ×ª××•× ×” ×§×‘×•×¦×ª×™×ª ×©×œ ×”××©×ª×ª×¤×™× ××¦×‘×™×¢×™× ×¢×œ ×ª×›×•× ×” ×‘× ×•×£ (×”×¨ ××• × ×—×œ).</p>
                    <div class="photo-upload" onclick="simulatePhotoUpload(6)">
                        <p>ğŸ“· ×¦×œ××• ×ª××•× ×” ×§×‘×•×¦×ª×™×ª ××¦×‘×™×¢×™× ×¢×œ ×”× ×•×£</p>
                        <div id="upload6Status"></div>
                    </div>
                </div>

                <button class="btn" onclick="completeStation(6)" id="complete6" disabled>×”×©×œ× ×ª×—× ×”</button>
            </div>
        </div>

        <!-- Completion Screen -->
        <div class="completion-screen" id="completionScreen">
            <div class="trophy">ğŸ†</div>
            <h2>×›×œ ×”×›×‘×•×“! ×”×©×œ××ª× ××ª ×”××©×—×§!</h2>
            <p>×¢×‘×¨×ª× ×‘×”×¦×œ×—×” ××ª ×›×œ 6 ×”×ª×—× ×•×ª ×©×œ ××©×—×§ ×—×™×¤×•×© ×”××•×¦×¨ ×‘×¢×™×Ÿ ×—××“.</p>
            <p>×œ××“×ª× ×¢×œ ×”×”×™×¡×˜×•×¨×™×”, ×”××§×•×œ×•×’×™×” ×•×”××•×¨×©×ª ×©×œ ×”××§×•× ×”×™×™×—×“ ×”×–×”.</p>
            <button class="btn btn-success" onclick="restartGame()">×”×ª×—×œ ××—×“×©</button>
        </div>
    </div>

    <script>
        let completedStations = 0;
        let stationData = {};

        // Initialize the game
        function initGame() {
            updateProgress();
            initQuizzes();
            initMatchingGame();
            initCrossword();
            initPuzzle();
        }

        // Reveal station content when "I'm at the location" is pressed
        function revealStation(stationNum) {
            const content = document.getElementById(`content${stationNum}`);
            const locationBtn = document.querySelector(`#station${stationNum} .location-btn`);
            
            content.classList.add('revealed');
            locationBtn.style.display = 'none';
            
            // Enable completion checking for this station
            setTimeout(() => {
                checkStationCompletion(stationNum);
            }, 500);
        }

        // Initialize quiz functionality
        function initQuizzes() {
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.parentNode.parentNode;
                    const options = question.querySelectorAll('.quiz-option');
                    
                    // Remove previous selections
                    options.forEach(opt => opt.classList.remove('correct', 'incorrect', 'selected'));
                    
                    // Mark current selection
                    this.classList.add('selected');
                    
                    // Show correct/incorrect
                    if (this.dataset.correct === 'true') {
                        this.classList.add('correct');
                    } else {
                        this.classList.add('incorrect');
                        // Also show the correct answer
                        options.forEach(opt => {
                            if (opt.dataset.correct === 'true') {
                                opt.classList.add('correct');
                            }
                        });
                    }

                    checkStationCompletion();
                });
            });
        }

        // Initialize matching game
        function initMatchingGame() {
            let selectedItems = [];
            let matches = 0;

            document.querySelectorAll('.matching-item').forEach(item => {
                item.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;

                    if (selectedItems.length === 0) {
                        this.classList.add('selected');
                        selectedItems.push(this);
                    } else if (selectedItems.length === 1) {
                        if (selectedItems[0] === this) {
                            // Deselect if clicking the same item
                            this.classList.remove('selected');
                            selectedItems = [];
                            return;
                        }

                        this.classList.add('selected');
                        selectedItems.push(this);

                        // Check if match
                        if (selectedItems[0].dataset.match === selectedItems[1].dataset.match) {
                            // Correct match
                            selectedItems.forEach(item => {
                                item.classList.remove('selected');
                                item.classList.add('matched');
                            });
                            matches++;

                            // Update results
                            const resultsDiv = document.getElementById('matchingResults2');
                            resultsDiv.innerHTML += `<p>âœ… ${selectedItems[0].textContent} â†” ${selectedItems[1].textContent}</p>`;

                            if (matches === 3) {
                                resultsDiv.innerHTML += '<p><strong>×›×œ ×”×”×ª×××•×ª × ×›×•× ×•×ª! ğŸ‰</strong></p>';
                                checkStationCompletion();
                            }
                        } else {
                            // Incorrect match
                            setTimeout(() => {
                                selectedItems.forEach(item => item.classList.remove('selected'));
                            }, 1000);
                        }

                        selectedItems = [];
                    }
                });
            });
        }

        // Initialize crossword
        function initCrossword() {
            const grid = document.getElementById('crosswordGrid');
            const size = 10;
            
            // Create grid
            for (let i = 0; i < size * size; i++) {
                const cell = document.createElement('div');
                cell.className = 'crossword-cell';
                cell.dataset.index = i;
                grid.appendChild(cell);
            }

            // Set active cells for our words
            const activeCells = [10, 11, 12, 13, 14, 15, 16, 21, 31, 41, 50, 51, 52, 53, 54, 55, 56];
            activeCells.forEach(index => {
                const cell = grid.children[index];
                cell.classList.add('active');
                cell.contentEditable = true;
                cell.addEventListener('input', checkCrosswordCompletion);
            });

            // Add word positions info
            stationData.crosswordAnswers = {
                word1: '×˜×¨×¡×•×ª', // horizontal starting at cell 10
                word2: '×¡×—×£',   // vertical starting at cell 21
                word3: '×—×§×œ××•×ª' // horizontal starting at cell 50
            };
        }

        // Check crossword completion
        function checkCrosswordCompletion() {
            const grid = document.getElementById('crosswordGrid');
            const word1 = [10, 11, 12, 13, 14, 15, 16].map(i => grid.children[i].textContent).join('');
            const word2 = [21, 31, 41, 51].map(i => grid.children[i].textContent).join('');
            const word3 = [50, 51, 52, 53, 54, 55, 56].map(i => grid.children[i].textContent).join('');

            if (word1 === '×˜×¨×¡×•×ª' && word2 === '×¡×—×£' && word3 === '×—×§×œ××•×ª') {
                document.getElementById('crosswordResults').innerHTML = 
                    '<p><strong>××–×œ ×˜×•×‘! ×¤×ª×¨×ª× ××ª ×”×ª×¤×–×•×¨×ª:</strong></p>' +
                    '<p>âœ… ×˜×¨×¡×•×ª - ××“×¨×’×•×ª ××‘×Ÿ</p>' +
                    '<p>âœ… ×¡×—×£ - ×©×—×™×§×ª ×§×¨×§×¢</p>' +
                    '<p>âœ… ×—×§×œ××•×ª - ×’×™×“×•×œ ×¦××—×™×</p>';
                
                // Mark cells as filled
                [10, 11, 12, 13, 14, 15, 16, 21, 31, 41, 50, 51, 52, 53, 54, 55, 56].forEach(index => {
                    grid.children[index].classList.add('filled');
                    grid.children[index].contentEditable = false;
                });

                checkStationCompletion();
            }
        }

        // Initialize puzzle game
        function initPuzzle() {
            let clickedPieces = 0;
            const totalPieces = 9;

            document.querySelectorAll('.puzzle-piece').forEach(piece => {
                piece.addEventListener('click', function() {
                    if (!this.classList.contains('clicked')) {
                        this.classList.add('clicked');
                        this.style.border = '3px solid #28a745';
                        clickedPieces++;

                        if (clickedPieces === totalPieces) {
                            document.getElementById('puzzleStatus').innerHTML = 
                                '<strong style="color: #28a745;">ğŸ‰ ×¤××–×œ ×”×•×©×œ× ×‘×”×¦×œ×—×”!</strong>';
                            checkStationCompletion();
                        }
                    }
                });
            });
        }

        // Simulate photo upload
        function simulatePhotoUpload(stationNum) {
            const statusDiv = document.getElementById(`upload${stationNum}Status`);
            statusDiv.innerHTML = '<p style="color: #28a745;">ğŸ“¸ ×ª××•× ×•×ª ×”×•×¢×œ×• ×‘×”×¦×œ×—×”!</p>';
            checkStationCompletion();
        }

        // Check if station can be completed
        function checkStationCompletion(stationNum = null) {
            if (!stationNum) {
                stationNum = completedStations + 1;
            }
            
            const completeBtn = document.getElementById(`complete${stationNum}`);
            const content = document.getElementById(`content${stationNum}`);
            
            if (completeBtn && content && content.classList.contains('revealed')) {
                // Simple check - enable after some interaction
                setTimeout(() => {
                    completeBtn.disabled = false;
                    completeBtn.classList.add('btn-success');
                    completeBtn.innerHTML = 'âœ… ×”×©×œ× ×ª×—× ×”';
                }, 1000);
            }
        }

        // Complete a station
        function completeStation(stationNum) {
            // Mark station as completed
            const station = document.getElementById(`station${stationNum}`);
            const mysteryHeader = station.querySelector('.mystery-header');
            mysteryHeader.innerHTML = '<span class="completed-mark">âœ…</span>' + mysteryHeader.innerHTML;
            
            // Hide current station
            station.classList.remove('active');
            
            // Update progress
            completedStations++;
            updateProgress();
            
            // Show next station or completion screen
            if (completedStations === 6) {
                document.getElementById('completionScreen').classList.add('active');
            } else {
                const nextStation = document.getElementById(`station${completedStations + 1}`);
                nextStation.classList.remove('locked');
                nextStation.classList.add('active');
            }
        }

        // Update progress bar
        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const percentage = (completedStations / 6) * 100;
            
            progressFill.style.width = percentage + '%';
            progressText.textContent = `×”×ª×§×“××•×ª: ${completedStations}/6 ×ª×—× ×•×ª ×”×•×©×œ××•`;
        }

        // Restart game
        function restartGame() {
            completedStations = 0;
            updateProgress();
            
            // Reset all stations
            document.querySelectorAll('.station').forEach((station, index) => {
                station.classList.remove('active');
                station.classList.add('locked');
                
                // Reset completed marks
                const header = station.querySelector('.mystery-header');
                const completedMark = header.querySelector('.completed-mark');
                if (completedMark) {
                    completedMark.remove();
                }
                
                // Reset completion buttons
                const completeBtn = station.querySelector('[id^="complete"]');
                if (completeBtn) {
                    completeBtn.disabled = true;
                    completeBtn.classList.remove('btn-success');
                    completeBtn.innerHTML = '×”×©×œ× ×ª×—× ×”';
                }
                
                // Hide station content and show location button
                const content = station.querySelector('.station-content');
                const locationBtn = station.querySelector('.location-btn');
                if (content) content.classList.remove('revealed');
                if (locationBtn) locationBtn.style.display = 'inline-block';
            });
            
            // Show first station
            const firstStation = document.getElementById('station1');
            firstStation.classList.remove('locked');
            firstStation.classList.add('active');
            
            // Hide completion screen
            document.getElementById('completionScreen').classList.remove('active');
            
            // Reset all inputs
            document.querySelectorAll('.input-field').forEach(input => input.value = '');
            
            // Reset quiz selections
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('correct', 'incorrect', 'selected');
            });
            
            // Reset matching game
            document.querySelectorAll('.matching-item').forEach(item => {
                item.classList.remove('selected', 'matched');
            });
            document.getElementById('matchingResults2').innerHTML = '';
            
            // Reset crossword
            document.querySelectorAll('.crossword-cell').forEach(cell => {
                cell.textContent = '';
                cell.classList.remove('filled');
                if (cell.classList.contains('active')) {
                    cell.contentEditable = true;
                }
            });
            document.getElementById('crosswordResults').innerHTML = '';
            
            // Reset puzzle
            document.querySelectorAll('.puzzle-piece').forEach(piece => {
                piece.classList.remove('clicked');
                piece.style.border = '2px solid #333';
            });
            document.getElementById('puzzleStatus').textContent = '×œ×—×¦×• ×¢×œ ×”×—×œ×§×™× ×›×“×™ ×œ×”×¨×›×™×‘ ××ª ×”×ª××•× ×”!';
            
            // Reset photo uploads
            [1, 5, 6].forEach(num => {
                const statusDiv = document.getElementById(`upload${num}Status`);
                if (statusDiv) statusDiv.innerHTML = '';
            });
        }

        // Initialize the game when page loads
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
